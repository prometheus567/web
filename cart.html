<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Gi·ªè h√†ng - HomeStore</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .title-bar {
      background: #337dff;
      color: white;
      padding: 10px 20px;
      font-weight: bold;
      font-size: 18px;
    }
    .cart-empty {
      padding: 30px;
      color: #555;
    }
    .sidebar {
      background: white;
      border: 1px solid #ccc;
      padding: 10px;
    }
    .sidebar h5 {
      background: #337dff;
      color: white;
      padding: 10px;
    }
  </style>
</head>
<body>

<div class="container-fluid mt-4">
  <div class="row">
    <!-- Menu tr√°i -->
    <aside class="col-md-3">
      <div class="sidebar">
        <h5>DANH M·ª§C S·∫¢N PH·∫®M</h5>
        <ul class="list-group">
          <li class="list-group-item">T·∫•t c·∫£ s·∫£n ph·∫©m</li>
          <li class="list-group-item">Gia d·ª•ng Nh·∫≠t</li>
          <li class="list-group-item">B·∫øp ƒêi·ªán</li>
          <li class="list-group-item">M√°y H√∫t M√πi</li>
          <li class="list-group-item">M√°y Xay & √âp</li>
          <li class="list-group-item">ƒê·ªì Gia D·ª•ng Kh√°c</li>
        </ul>
      </div>
    </aside>

    <!-- N·ªôi dung ch√≠nh -->
    <main class="col-md-9">
      <div class="bg-white border shadow-sm">
        <div class="title-bar">üõí GI·ªé H√ÄNG</div>
        <div id="cart-content" class="p-4">
          
          <!-- Gi·ªè h√†ng s·∫Ω ƒë∆∞·ª£c render ·ªü ƒë√¢y -->
        </div>
      </div>
    </main>
  </div>
</div>
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4 class="text-primary"> </h4>
  <a href="index.html" class="btn btn-outline-primary">‚ûï Th√™m s·∫£n ph·∫©m üõí</a>
</div>


<a href="thanhtoan.html" class="btn btn-warning mt-3 w-100">Ti·∫øn h√†nh thanh to√°n</a>

<script>
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const content = document.getElementById('cart-content');

  if (cart.length === 0) {
    content.innerHTML = '<p class="cart-empty">‚òπÔ∏è Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng.</p>';
  } else {
    let html = '<table class="table table-bordered"><thead><tr><th>·∫¢nh</th><th>T√™n</th><th>Gi√°</th><th>SL</th><th>Th√†nh ti·ªÅn</th><th>Xo√°</th></tr></thead><tbody>';
    let total = 0;

    cart.forEach((item, index) => {
  const sub = item.price * item.quantity;
  total += sub;

  html += `<tr>
    <td><img src="${item.img}" width="60"></td>
    <td>${item.name}</td>
    <td>${item.price.toLocaleString()}ƒë</td>
    <td>
      <div class="d-flex align-items-center">
        <button class="btn btn-sm btn-outline-secondary me-1" onclick="changeQty(${index}, -1)">‚àí</button>
        <span>${item.quantity}</span>
        <button class="btn btn-sm btn-outline-secondary ms-1" onclick="changeQty(${index}, 1)">+</button>
      </div>
    </td>
    <td>${sub.toLocaleString()}ƒë</td>
    <td><button class="btn btn-danger btn-sm" onclick="removeItem(${index})">Xo√°</button></td>
  </tr>`;
});

html += `</tbody></table><p class="text-end fw-bold">T·ªïng c·ªông: ${total.toLocaleString()}ƒë</p>`;
html += `<div class="text-end"><button class="btn btn-danger" onclick="clearCart()">Xo√° t·∫•t c·∫£</button></div>`;
content.innerHTML = html;

    html += `</tbody></table><p class="text-end fw-bold">T·ªïng c·ªông: ${total.toLocaleString()}ƒë</p>`;
    html += `<div class="text-end"><button class="btn btn-danger" onclick="clearCart()">Xo√° t·∫•t c·∫£</button></div>`;

    content.innerHTML = html;
  }

  function removeItem(i) {
    cart.splice(i, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    location.reload();
  }

  function clearCart() {
    if (confirm('B·∫°n mu·ªën xo√° to√†n b·ªô gi·ªè h√†ng?')) {
      localStorage.removeItem('cart');
      location.reload();
    }
  }
  function changeQty(index, delta) {
  cart[index].quantity += delta;
  if (cart[index].quantity < 1) cart[index].quantity = 1;
  localStorage.setItem('cart', JSON.stringify(cart));
  location.reload();
}

</script>

</body>
</html>
